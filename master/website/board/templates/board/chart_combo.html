{% extends "base.html" %}
{% load static %}

{% block scripts %}
    {{ block.super }}
{% endblock %}

{% block body %}

    {% include "navbar.html" %}
    {% include "sidebar.html" %}

    <section id="main-content">
        <section class="wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="page-header"><i class="fa fa-table"></i> 원가 차트</h3>
                </div>
            </div>

            <div id="container" style="width:100%;">
                <canvas id="mychart" style="width:60%;"></canvas>

                <div class="table-responsive">
                    <table class="table" style="width:60%;">
                        <tr>
                            <th>구분</th>
                            <th>1월</th>
                            <th>2월</th>
                            <th>3월</th>
                            <th>4월</th>
                            <th>5월</th>
                            <th>6월</th>
                            <th>7월</th>
                            <th>8월</th>
                            <th>9월</th>
                            <th>10월</th>
                            <th>11월</th>
                            <th>12월</th>
                        </tr>

                        <tbody>
                            <tr>
                                <td>재료비</td>
                                <td>120</td>
                                <td>56</td>
                                <td>56</td>
                                <td>100</td>
                                <td>110</td>
                                <td>50</td>
                                <td>110</td>
                                <td>50</td>
                                <td>60</td>
                                <td>110</td>
                                <td>86</td>
                                <td>79</td>
                            </tr>
                            <tr>
                                <td>노무비</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>제조경비</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>매출액</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script>
        var months=['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
        var mater_cost=[120, 56, 56, 100, 110, 50, 110, 50, 60, 110, 86, 79];
        var labor_cost=[115, 55, 55, 95, 105, 50, 105, 50, 55, 105, 88, 81];
        var out_pro_cost=[90, 40, 40, 70, 80, 50, 80, 50, 55, 80, 90, 83];
        var manu_cost=[95, 42, 42, 75, 85, 50, 85, 50, 55, 85, 81, 84];
        var sales_cost=[480, 400, 385, 420, 500, 530, 400, 450, 430, 430, 440, 460];

        var ctx = document.getElementById('mychart').getContext('2d');
        var chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: '재료비',
                    type: 'bar',
                    backgroundColor: '#3399FF',
                    borderColor: '#3399FF',
                    data: mater_cost,
                    borderWidth: 3,
                    hoverBorderWidth: 6
                }, {
                    label: '노무비',
                    type: 'bar',
                    backgroundColor: '#66CCFF',
                    borderColor: '#66CCFF',
                    data: labor_cost,
                    borderWidth: 3,
                    hoverBorderWidth: 6
                }, {
                    label: '제조경비',
                    type: 'bar',
                    backgroundColor: '#99FFFF',
                    borderColor: '#99FFFF',
                    data: manu_cost,
                    borderWidth: 3,
                    hoverBorderWidth: 6
                }, {
                    label: '매출액',
                    type: 'line',
                    fill: false,
                    lineTension: 0,
                    pointRadius: 0,
                    backgroundColor: '#FFCC00',
                    borderColor: '#FFCC00',
                    data: sales_cost
                }]
            },

            // Configuration options
            options: {
                responsive: false,
                legend: {
                    labels: {
                        fontColor: '#000000' // label color
                    }
                },
                scales: {
                    // y축
                    yAxes: [{
                        stacked: true,
                        ticks: {
                            fontColor: '#000000' // y축 폰트 color
                        }
                    }],
                    // x축
                    xAxes: [{
                        stacked: true,
                        ticks: {
                            fontColor: '#000000' // x축 폰트 color
                        }
                    }]
                }
            }
        });
    </script>

{% endblock %}