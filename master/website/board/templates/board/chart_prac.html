{% extends "base.html" %}
{% load static %}

{% block scripts %}
    {{ block.super }}
{% endblock %}

{% block body %}

    {% include "navbar.html" %}
    {% include "sidebar.html" %}

    <style>
        .chartWrapper {
            position: relative;
        }

        .chartWrapper > canvas {
            position: absolute;
            left: 0;
            top: 0;
            pointer-events: none;
        }

        .chartAreaWrapper {
            width: 600px;
            overflow-x: scroll;
        }
    </style>

    <section id="main-content">
        <section class="wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="page-header"><i class="fa fa-table"></i> 원가 차트</h3>
                </div>
            </div>

            <div id="container" class="chartWrapper" style="width:100%;">
                <div class="chartAreaWrapper">
                    <canvas id="mychart" height="150"></canvas>
                </div>

                <div class="table-responsive">
                    <table class="table" width="100%">
                        <thead>
                            <tr>
                                <th>COL1</th>
                                <th>COL2</th>
                                <th>COL3</th>
                                <th width="5%"></th>
                                <th></th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for i in rsHeader %}
                            <tr>
                                <td width="10%"></td>
                                <td width="20%"></td>
                                <td width="20%"></td>
                                <td width="40%"></td>
                                <td width="5%"></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script>
        var months=['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];

        var ctx = document.getElementById('mychart').getContext('2d');
        var chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['1월', '2월', '3월', '4월', '5월', '6월'],
                datasets: [{
                    label: '바 그래프',
                    type: 'bar', // 'bar' type, 전체 타입과 같다면 생략가능
                    backgroundColor: 'rgb(255, 204, 102)',
                    borderColor: 'rgb(255, 204, 102)',
                    data: [10, 20, 30, 40, 50, 60],
                    borderWidth: 3,
                    hoverBorderWidth: 6
                }, {
                    label: '라인 그래프1',
                    type: 'line',         // 'line' type
                    fill: false,         // 채우기 없음
                    lineTension: 0.2,  // 0이면 꺾은선 그래프, 숫자가 높을수록 둥글해짐
                    pointRadius: 3,    // 각 지점에 포인트 주지 않음
                    backgroundColor: 'rgb(255, 153, 0)',
                    borderColor: 'rgb(255, 153, 0)',
                    data: [40, 50, 60, 70, 80, 90]
                }, {
                    label: '라인 그래프2',
                    type: 'line',
                    fill: false,
                    lineTension: 0.2,
                    pointRadius: 0,
                    backgroundColor: 'rgb(255, 204, 0)',
                    borderColor: 'rgb(255, 204, 0)',
                    data: [100, 120, 150, 100, 180, 200]
                }]
            },

            // Configuration options
            options: {
                legend: {
                    labels: {
                        fontColor: '#000000' // label color
                    }
                },
                scales: {
                    // y축
                    yAxes: [{
                        stacked: true,
                        ticks: {
                            fontColor: '#000000' // y축 폰트 color
                        }
                    }],
                    // x축
                    xAxes: [{
                        stacked: true,
                        ticks: {
                            fontColor: '#000000' // x축 폰트 color
                        }
                    }]
                }
            }
        });
    </script>

{% endblock %}